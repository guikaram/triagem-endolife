<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Triagem Endolife - Question√°rio de Triagem para Endometriose">
    <meta name="theme-color" content="#e6358b">
    <title>Triagem Endolife - Score Endoflow</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-header">
                <img src="logo.png" alt="Endolife Logo" class="logo-image">
            </div>
            <h2>Triagem de Endometriose</h2>
            <p class="subtitle">Score Endoflow - Autoaplic√°vel</p>
        </header>

        <!-- SE√á√ÉO 1: TERMO DE CONSENTIMENTO LGPD -->
        <section id="consent-section" class="section active">
            <h3>Termo de Consentimento LGPD</h3>
            <div class="consent-box">
                <p class="consent-text">
                    <strong>Prote√ß√£o de Dados e Privacidade</strong><br><br>
                    Ao prosseguir com este question√°rio de triagem, voc√™ manifesta seu consentimento livre, informado e inequ√≠voco para que os dados fornecidos (Nome, Idade, Celular e respostas do question√°rio) sejam utilizados para fins de pesquisa cient√≠fica, aprimoramento do modelo de triagem <strong>Score Endoflow</strong> e estudos epidemiol√≥gicos sobre endometriose.<br><br>
                    <strong>Garantias:</strong><br>
                    ‚Ä¢ Seus dados ser√£o tratados em conformidade com a Lei Geral de Prote√ß√£o de Dados (LGPD - Lei n¬∫ 13.709/2018).<br>
                    ‚Ä¢ Todos os dados pessoais ser√£o mantidos em <strong>sigilo absoluto</strong>.<br>
                    ‚Ä¢ Para qualquer publica√ß√£o de resultados, seus dados ser√£o <strong>anonimizados</strong>, impossibilitando sua identifica√ß√£o pessoal.<br>
                    ‚Ä¢ O n√∫mero de celular ser√° utilizado exclusivamente para comunica√ß√£o sobre o resultado da triagem e encaminhamento m√©dico, se necess√°rio.<br><br>
                    <strong>Este question√°rio √© uma ferramenta de triagem e n√£o substitui a avalia√ß√£o m√©dica profissional.</strong>
                </p>
            </div>
            <div class="checkbox-group">
                <input type="checkbox" id="consent-checkbox" name="consent" required>
                <label for="consent-checkbox">Concordo com os termos acima e desejo continuar com a triagem</label>
            </div>
            <button type="button" id="consent-btn" class="btn-primary" onclick="proceedToRegistration()">Continuar</button>
        </section>

        <!-- SE√á√ÉO 2: CADASTRO -->
        <section id="registration-section" class="section">
            <h3>Cadastro Simplificado</h3>
            <form id="registration-form">
                <div class="form-group">
                    <label for="name">Nome Completo *</label>
                    <input type="text" id="name" name="name" placeholder="Digite seu nome" required>
                </div>

                <div class="form-group">
                    <label for="age">Idade *</label>
                    <input type="number" id="age" name="age" min="13" max="120" placeholder="Digite sua idade" required>
                    <small>Se voc√™ tem menos de 18 anos, voc√™ deve ter a autoriza√ß√£o de um respons√°vel legal para continuar.</small>
                </div>

                <div class="form-group">
                    <label for="phone">Celular (WhatsApp) *</label>
                    <input type="tel" id="phone" name="phone" placeholder="(XX) XXXXX-XXXX" required>
                    <small>Formato: (XX) XXXXX-XXXX</small>
                </div>

                <div id="minor-consent" class="form-group" style="display: none;">
                    <input type="checkbox" id="minor-checkbox" name="minor-consent">
                    <label for="minor-checkbox">Sou menor de 18 anos e tenho a autoriza√ß√£o de um respons√°vel legal para responder este question√°rio</label>
                </div>

                <button type="button" class="btn-primary" onclick="proceedToQuestionnaire()">Iniciar Triagem</button>
            </form>
        </section>

        <!-- SE√á√ÉO 3: QUESTION√ÅRIO -->
        <section id="questionnaire-section" class="section">
            <p class="instruction">Por favor, responda √†s perguntas a seguir. Para as perguntas sobre dor, use a escala de 0 a 10, onde 0 significa <strong>"sem dor"</strong> e 10 significa <strong>"a pior dor que voc√™ j√° sentiu"</strong>.</p>

            <form id="screening-form" aria-label="Formul√°rio de Triagem para Endometriose">
                <!-- Pergunta 1: Dor Menstrual (C√≥lica) (P1: 11 pontos) -->
                <div class="question-block">
                    <div class="question-header">
                        <label for="p1">
                            <span class="question-number">1</span>
                            <span class="question-text">A sua c√≥lica menstrual (dor durante a menstrua√ß√£o) √© forte?</span>
                            <span class="emoji">ü§ï</span>
                        </label>
                        <button type="button" class="audio-btn" aria-label="Ouvir pergunta 1" onclick="speakText('A sua c√≥lica menstrual (dor durante a menstrua√ß√£o) √© forte? Classifique a intensidade em uma escala de 0 a 10, onde 0 √© sem dor e 10 √© a pior dor que voc√™ j√° sentiu.')">üîä</button>
                    </div>
                    <p class="sub-instruction">Classifique a intensidade em uma escala de 0 a 10:</p>
                    <div class="scale-container">
                        <div class="scale-labels">
                            <span>0<br><small>Sem dor</small></span>
                            <span>5<br><small>Dor moderada</small></span>
                            <span>10<br><small>Pior dor</small></span>
                        </div>
                        <input type="range" id="p1" name="p1" min="0" max="10" value="0" class="slider" aria-label="Escala de dor menstrual de 0 a 10">
                        <div class="scale-value"><span id="p1-value">0</span>/10</div>
                    </div>
                </div>

                <!-- Pergunta 2: Dor na Rela√ß√£o Sexual (P2: 6 pontos) -->
                <div class="question-block">
                    <div class="question-header">
                        <label for="p2">
                            <span class="question-number">2</span>
                            <span class="question-text">Voc√™ sente dor profunda durante ou ap√≥s o sexo (rela√ß√£o sexual)?</span>
                            <span class="emoji">üíî</span>
                        </label>
                        <button type="button" class="audio-btn" aria-label="Ouvir pergunta 2" onclick="speakText('Voc√™ sente dor profunda durante ou ap√≥s o sexo (rela√ß√£o sexual)? Classifique a intensidade em uma escala de 0 a 10.')">üîä</button>
                    </div>
                    <p class="sub-instruction">Classifique a intensidade em uma escala de 0 a 10:</p>
                    <div class="scale-container">
                        <div class="scale-labels">
                            <span>0<br><small>Sem dor</small></span>
                            <span>5<br><small>Dor moderada</small></span>
                            <span>10<br><small>Pior dor</small></span>
                        </div>
                        <input type="range" id="p2" name="p2" min="0" max="10" value="0" class="slider" aria-label="Escala de dor na rela√ß√£o sexual de 0 a 10">
                        <div class="scale-value"><span id="p2-value">0</span>/10</div>
                    </div>
                </div>

                <!-- Pergunta 3: Sintomas Intestinais (P3: 14 pontos) -->
                <div class="question-block">
                    <div class="question-header">
                        <label for="p3">
                            <span class="question-number">3</span>
                            <span class="question-text">Voc√™ sente dor ou desconforto intestinal (ex: dor ao evacuar, diarreia, incha√ßo) forte durante a menstrua√ß√£o?</span>
                            <span class="emoji">üöΩ</span>
                        </label>
                        <button type="button" class="audio-btn" aria-label="Ouvir pergunta 3" onclick="speakText('Voc√™ sente dor ou desconforto intestinal, como dor ao evacuar, diarreia ou incha√ßo, forte durante a menstrua√ß√£o? Classifique a intensidade em uma escala de 0 a 10.')">üîä</button>
                    </div>
                    <p class="sub-instruction">Classifique a intensidade em uma escala de 0 a 10:</p>
                    <div class="scale-container">
                        <div class="scale-labels">
                            <span>0<br><small>Sem dor</small></span>
                            <span>5<br><small>Dor moderada</small></span>
                            <span>10<br><small>Pior dor</small></span>
                        </div>
                        <input type="range" id="p3" name="p3" min="0" max="10" value="0" class="slider" aria-label="Escala de dor intestinal de 0 a 10">
                        <div class="scale-value"><span id="p3-value">0</span>/10</div>
                    </div>
                </div>

                <!-- Pergunta 4: Sintomas Urin√°rios (P4: 12 pontos) -->
                <div class="question-block">
                    <div class="question-header">
                        <label for="p4">
                            <span class="question-number">4</span>
                            <span class="question-text">Voc√™ sente dor ao urinar, ou percebe sangue na urina, principalmente durante a menstrua√ß√£o?</span>
                            <span class="emoji">üöª</span>
                        </label>
                        <button type="button" class="audio-btn" aria-label="Ouvir pergunta 4" onclick="speakText('Voc√™ sente dor ao urinar, ou percebe sangue na urina, principalmente durante a menstrua√ß√£o?')">üîä</button>
                    </div>
                    <div class="radio-group">
                        <input type="radio" id="p4_yes" name="p4" value="12" required>
                        <label for="p4_yes">Sim</label>
                        <input type="radio" id="p4_no" name="p4" value="0">
                        <label for="p4_no">N√£o</label>
                    </div>
                </div>

                <!-- Pergunta 5: Hist√≥rico Familiar (P5: 14 pontos) -->
                <div class="question-block">
                    <div class="question-header">
                        <label for="p5">
                            <span class="question-number">5</span>
                            <span class="question-text">Voc√™ tem m√£e ou irm√£ com diagn√≥stico confirmado de endometriose?</span>
                            <span class="emoji">üë©‚Äçüëß</span>
                        </label>
                        <button type="button" class="audio-btn" aria-label="Ouvir pergunta 5" onclick="speakText('Voc√™ tem m√£e ou irm√£ com diagn√≥stico confirmado de endometriose?')">üîä</button>
                    </div>
                    <div class="radio-group">
                        <input type="radio" id="p5_yes" name="p5" value="14" required>
                        <label for="p5_yes">Sim</label>
                        <input type="radio" id="p5_no" name="p5" value="0">
                        <label for="p5_no">N√£o</label>
                    </div>
                </div>

                <!-- Pergunta 6: Infertilidade Prim√°ria (P6: 6 pontos) -->
                <div class="question-block">
                    <div class="question-header">
                        <label for="p6">
                            <span class="question-number">6</span>
                            <span class="question-text">Voc√™ est√° tentando engravidar h√° 12 meses ou mais sem sucesso, e nunca engravidou antes?</span>
                            <span class="emoji">ü§∞</span>
                        </label>
                        <button type="button" class="audio-btn" aria-label="Ouvir pergunta 6" onclick="speakText('Voc√™ est√° tentando engravidar h√° 12 meses ou mais sem sucesso, e nunca engravidou antes?')">üîä</button>
                    </div>
                    <div class="radio-group">
                        <input type="radio" id="p6_yes" name="p6" value="6" required>
                        <label for="p6_yes">Sim</label>
                        <input type="radio" id="p6_no" name="p6" value="0">
                        <label for="p6_no">N√£o</label>
                    </div>
                </div>

                <!-- Pergunta 7: Fadiga Cr√¥nica (P7: 7 pontos) -->
                <div class="question-block">
                    <div class="question-header">
                        <label for="p7">
                            <span class="question-number">7</span>
                            <span class="question-text">Voc√™ sente um cansa√ßo (fadiga) constante, que n√£o melhora com o descanso e atrapalha suas atividades di√°rias?</span>
                            <span class="emoji">üò¥</span>
                        </label>
                        <button type="button" class="audio-btn" aria-label="Ouvir pergunta 7" onclick="speakText('Voc√™ sente um cansa√ßo ou fadiga constante, que n√£o melhora com o descanso e atrapalha suas atividades di√°rias?')">üîä</button>
                    </div>
                    <div class="radio-group">
                        <input type="radio" id="p7_yes" name="p7" value="7" required>
                        <label for="p7_yes">Sim</label>
                        <input type="radio" id="p7_no" name="p7" value="0">
                        <label for="p7_no">N√£o</label>
                    </div>
                </div>

                <!-- Pergunta 8: Sangramento Intenso (P8: 7 pontos) -->
                <div class="question-block">
                    <div class="question-header">
                        <label for="p8">
                            <span class="question-number">8</span>
                            <span class="question-text">Seu fluxo menstrual √© muito intenso (ex: troca de absorvente a cada 1-2h) ou dura mais de 7 dias?</span>
                            <span class="emoji">ü©∏</span>
                        </label>
                        <button type="button" class="audio-btn" aria-label="Ouvir pergunta 8" onclick="speakText('Seu fluxo menstrual √© muito intenso, por exemplo, voc√™ precisa trocar de absorvente a cada 1 ou 2 horas, ou dura mais de 7 dias?')">üîä</button>
                    </div>
                    <div class="radio-group">
                        <input type="radio" id="p8_yes" name="p8" value="7" required>
                        <label for="p8_yes">Sim</label>
                        <input type="radio" id="p8_no" name="p8" value="0">
                        <label for="p8_no">N√£o</label>
                    </div>
                </div>

                <button type="submit" id="calculate-btn" class="btn-primary" aria-label="Calcular Score">Calcular Score Endoflow</button>
            </form>
        </section>

        <!-- SE√á√ÉO 4: RESULTADO -->
        <section id="result-section" class="section">
            <div id="result-area" class="hidden" role="region" aria-live="polite" aria-label="Resultado da Triagem">
                <h2>Seu Score Endoflow: <span id="score-value">0</span> pontos</h2>
                <div id="risk-level"></div>
                <div id="recommendation"></div>
                
                <!-- Bot√£o WhatsApp para Resultados Positivos -->
                <div id="whatsapp-section" class="whatsapp-section hidden">
                    <p class="whatsapp-text">Deseja conversar com um especialista sobre seu resultado?</p>
                    <a href="https://wa.me/5513996156944?text=Ol√°! Realizei a triagem Score Endoflow e gostaria de conversar sobre meu resultado." target="_blank" class="btn-whatsapp">
                        üí¨ Conversar no WhatsApp
                    </a>
                </div>

                <button type="button" id="reset-btn" class="btn-primary" onclick="resetForm()">Fazer Nova Triagem</button>
                <p class="disclaimer">‚ö†Ô∏è <strong>Importante:</strong> Este question√°rio √© uma ferramenta de triagem e <strong>n√£o substitui</strong> a avalia√ß√£o m√©dica e o diagn√≥stico definitivo. Procure um m√©dico especialista para confirma√ß√£o.</p>
            </div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
